#### 2020

1、git 分支使用规范

2、建立统一的项目模版，比如单页，多页，后台管理，组件开发，小程序，Nodejs 项目，然后通过 cli 来选择 项目模版，模版选择后，直接生成项目，然后调用 gitlab 的 api， 在 gitlab 上创建项目，push项目，这样就收拢了大家创建项目的方式， 自动统一了代码规范

3、结合1、2，基于 gitlab ci/cd，阿里云 oss 的持续集成，进一步基于GUI创建

4、内部npm,组件展示平台

5、因为有了上面 3 的收拢

- 进行上线代码风格校验，检测线上发布是否包含了 sourcemap文件
- 统计每个项目的依赖，存储到数据库，当某天某个第三方出了问题（比方包含了挖矿脚本），能马上找到项目依赖
- 内部 npm 组件，谁使用了，也是很清晰，当组件更新时，可以企微，钉钉，邮件的方式自动通知到使用方
- 每次发布前通过  puppeteer  跑下项目，统计 性能数据，和之前的数据对比下，偏差太大也可以通知到对应负责人，进行检查

6、建立监控体系，监控体系可以简单，可以复杂，

- 最基础的功能: pageLoader 监控，意思是页面加载成功后上报下数据，表明当前页面是正常的，这样每次上线后，开发去观察 pageLoader 曲线的变化，就可以清楚上线情况；出问题时可通过 gitlab ci/cd 立马回滚代码
- 结合 sourcemap 把错误和打包前的文件映射起来，便于定位问题，没人手就用开源的有 sentry，有人手的就自己开发

7、报警机制，错误上报达到一定量就报警起来，那就去把上报的数据捞起来做个统计分析，还可以结合 prometheus，做个好看展示曲线

8、性能监控

9、基于业务的可视化搭建





**总结**

- 规范(代码、git)
- 代码(组件库、功能库)
- 自动化(CI/CD、项目初始化...)
- 辅助功能性平台(监控...)
- 业务生产力平台(可视化搭建...)