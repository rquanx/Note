#### 概述

#### 基础知识

  流程属性
关联模式   taskid或其他
流程号格式    对应字段和格式设置
​		缺省表单，每个步骤都可以设置表单，设置缺省表单，可以通用   
流程描述：支持html
范本夹   模板
代发申请   代人发的申请
参办任务   参与审批的
任务查询  根据权限显示

流程步骤 活动属性   权限勾选
​	不同步骤的权限不同，针对的用户不同
​	取回  设置什么时候可取回
​	删除，逻辑删除，标记
​	撤销，产生撤销状态，计时暂停，冻结
​	委托   任务让别人代办
​	知会	知会任务打开只有已知按钮，不按，会一直在
​	阅示	系统发通知，任务结束会消失
​	公开	针对权限，增加查看权限
​	阅示（加签） 表单意见栏，
​	调度	把流程从当前步骤节点，跳到任意流程节点
​	手机上审批
​	退回重填	直接返回开始
​	拒绝		单据关闭
​	批量同意
​	退回某步
  通知  单纯发邮件
  知会  会参与流程，产生权限

数据控制
​	Owner
​	AgentUser
​	LoginUser
​	Initiator
​	包含数据表，在提交时才会更新上去

处理人
​	第一人处理，  第一类人处理
​	共享处理      多个人可以处理，而且只需其中一人处理即可
​			获取处理权，释放处理权
​	发给所有人
​	
​	无对应处理人	~
​	自动同意

通知
​	使用缺省   继承服务器设置

连接弧
​	流程连接线，会变成按钮
超时
​	日历	应对不同时区的工作时
​	截止时间开始的计时
​	
​	催办
​	过时处理~
​	
​	自动同意规则，凌驾于处理人的自动同意上

自由签核
​	自由流	让某个步骤的人来设置这个

层级审批
​	关卡设置	设置审批条件，关卡层级  多个审批打包在一起
​		关卡条件不满足进入下一关卡，满足跳出结束

流程建模-- 管理工具---工作日历

合流  分流

流程运维
 	数据恢复  

  分流
合流
常规合流
​	等待所有分流到达，然后合并成一个
表决合流
​	通过通过和否决规则进行表决决定流程的进行
合流和分流可以嵌套使用

知会
​	根据规定设置知会人

快照
​	xsnapshotlist控件，根据快照次数显示版本
​		记录快照次数
子流程
​	跨服务器调用，可以进行多服务器流程处理
​	存储TaskID 	数据库中存储子id
​	同异步   是否等待子流程
​	开始活动，第一个节点自动提交
​	数据传入	
​	数据返回	返回数据给父流程
​	规则	传入数据筛选
结束
​	承认结束
​	拒绝结束	

数据库适配器
​	配对数据，对数据库update和insert
​	xml适配器	导出xml，只能做一级层级，否则写代码
​	附件适配器	用http方式存储附件
​	
时间触发器	多种流程触发器

文件触发器	监听文件 

自定义插件
​	sql插件	自己写代码
​	c#插件	代码
​	.NET插件	把dll放到UserDll里，可以使用
自己写的事件放在根目录下，然后再.net环境中写上dll名字，和using
 ‘

高级  
​	短名		设置简略名

移动端
大菜单 --  移动管理  --  流程库  --  申请单
可以对移动端显示进处理
​	可以修改顺序，显示名，数据类型

​	输入：录入意见？
​	图片附件	可以显示为图片
​	文字附件	只显示名字
​	设置数据格式
​	高级          加入配置，影响控件

流程版本
​	流程处理时间问题，多版本流程同时进行，兼容不同版本流程  

 接口
获取账号信息
owner	任务发起人
agent		代理人	外出？
recipient  当前接收人，任务当前在谁列表里
handler		实际任务处理人

finishAt 	是否待办？

表单
​	明细表	可以动态增加，删除
​	orderIndex	可以设置顺序
开窗查询使用XDateBrowserButton控件
​	开窗，可单选，多选
datamap数据映射    将字段值赋值给数据表？

TextBox的ValueToDisplayText可实现数据根据主键带出  

XDateBrowserButton数据绑定设置
DisplayColumns宽度
可以指定列宽，如果为-1则
DataMap
数据映射，绑定的数据会回填到表单上
数据映射到绑定字段，提交后数据将在BPM数据库中保存一个副本，再次打开表单时数据从BPM数据库中加载，不从外部数据库重新读取。

数据映射到变量后，提交时带出信息不在BPM数据库中保留副本，再次打开表单时附加信息重新读取，每一次都显示最新信息。

使用映射到变量可以实现，表单中只保存主键，显示时带出附加信息的功能。\

fileter
数据过滤，根据选择的字段信息过滤

XChildFormLink
通过连接按钮实现子表单
​	设置FormApplication属性
​	FormApplication使用的是表单应用，是使用现有的表单进行包装而成在“应用管理”门户中“表单服务”模块中可添加表单应用

子表单带出到主表单数据
​	配置XChildFormLink的ParamsFill属性，可将主表单数据通过url参数传递给子表单。

子表单数据带回主表单
​	借助TextBox的数据带出功能（ValueToDiaplayText）将数据带回给主表单

关联表单
​	XHistoryFormLink实现表单关联
​	使用XDataBrowserButton控件选择历史表单，并带出TaskID到XHistoryFormLink。

带出更多业务数据
​	利用XDataBrowser的DataMap功能
导出数据到EXCEL
​	ExcelDataExportButton设置ExportTableID
从EXCEL导入数据
​	XExcelDataImportButton
​	ColumnCount控制可导入列，会影响数据映射中源数据列出；
​	TitleRowIndex标题在Excel中位于第几行（从1开始计数）；
​	DataRowIndex Excel文件中数据开始行（从1开始计数）
​	替换导入
​		清空已有数据，替代，设置AppendModel为ClearAndAppend实现

表单验证
​	提交表单上，进行表单数据校验
​	

```
使用验证控件
自定义代码验证
后台验证

常规验证
	验证控件Validator Controls
非空验证		XRequiredFieldValidator		必填字段验证
范围验证		XRangeValidator		输入值是否在指定范围
比较验证		XCompareValidator		按设定比较输入值
```

正则表达式验证	XRegularExpressionValidator		检查输入信息格式
​	自定义验证	XCustomValidator	用javascript自定义验证逻辑，检查用户输入
​	使用，将控件拖出，指定验证目标

```
ValidationGroup指定验证组，并在流程设置好，可只在指定流程进行验证
动态验证，根据disableexpree进行设置
自定义验证
	XCustomValidator控件，支持使用自定义js函数执行验证逻辑
	js函数两个参数source,args,args有两个值value和isVAlid
后台验证  

```

